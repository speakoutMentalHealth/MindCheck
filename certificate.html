<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>MindCheck Joint Volunteer Training ‚Äî Certificate</title>
  <link rel="icon" href="favicon.png"/>
  <link rel="stylesheet" href="mc-theme.css"/>
  <meta name="theme-color" content="#22c55e"/>

  <style>
    :root{
      --blue-deep:#020617;
      --blue-border:#1f3a5f;
      --gold:#e2b653;
      --paper:#fdf8ec;
      --ink:#111827;
      --ink-soft:#4b5563;
    }

    body{
      margin:0;
      background:#020617;
      font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;
      display:flex;
      justify-content:center;
      align-items:center;
      min-height:100vh;
    }

    /* hide normal site header on this page */
    header{display:none!important;}

    main{
      width:100%;
      padding:12px;
      box-sizing:border-box;
    }

    .cert-wrapper{
      max-width:1180px;
      margin:0 auto;
    }

    .cert-frame{
      background:#020617;
      padding:18px;
      border-radius:30px;
      box-shadow:0 24px 60px rgba(0,0,0,.65);
    }

    /* MAIN CERT BOX ‚Äì single border like your sample */
    .cert-paper{
      position:relative;
      margin:0 auto;
      background:var(--paper);
      border-radius:22px;
      border:2.5px solid var(--blue-border);
      max-width:1120px;
      box-sizing:border-box;
      padding:40px 70px 42px; /* top / sides / bottom */
      display:flex;
      flex-direction:column;
      justify-content:space-between;
    }

    /* soft watermark */
    .cert-watermark{
      position:absolute;
      inset:0;
      display:flex;
      align-items:center;
      justify-content:center;
      opacity:.035;
      pointer-events:none;
      background:url("icons/logo.png") center center / 360px 360px no-repeat;
    }

    .cert-content{
      position:relative;
      z-index:1;
      display:flex;
      flex-direction:column;
      justify-content:space-between;
      min-height:460px; /* gives room but keeps everything on one page */
    }

    /* TOP AREA */
    .top-block{
      text-align:center;
    }

    .org-row{
      display:flex;
      flex-direction:column;
      align-items:center;
      justify-content:center;
      gap:4px;
      margin-bottom:4px;
    }

    .org-logo{
      height:82px; /* bigger logo */
      width:auto;
      object-fit:contain;
      display:block;
    }

    .org-name{
      font-family:"Georgia","Times New Roman",serif;
      font-size:1.6rem;
      font-weight:700;
      letter-spacing:.08em;
      color:var(--ink);
      text-transform:uppercase;
    }

    .org-subtitle{
      font-size:.78rem;
      letter-spacing:.16em;
      text-transform:uppercase;
      color:var(--ink-soft);
    }

    .cert-main-heading{
      margin-top:14px;
      font-family:"Georgia","Times New Roman",serif;
      font-size:1.6rem;
      letter-spacing:.18em;
      text-transform:uppercase;
      color:var(--ink);
    }

    .cert-text-main{
      max-width:780px;
      margin:12px auto 0;
      font-size:.96rem;
      color:var(--ink-soft);
      line-height:1.5;
    }

    .awarded{
      margin-top:26px;
      font-size:.85rem;
      letter-spacing:.32em;
      text-transform:uppercase;
      color:#6b7280;
    }

    .cert-name{
      margin-top:10px;
      font-family:"Georgia","Times New Roman",serif;
      font-size:2.3rem;
      font-weight:700;
      color:var(--ink);
    }

    .skills-text{
      margin-top:10px;
      font-size:.93rem;
      color:var(--ink-soft);
      max-width:780px;
      margin-left:auto;
      margin-right:auto;
    }

    .score-row{
      margin-top:18px;
      font-size:.86rem;
      font-weight:500;
      color:var(--ink);
      display:flex;
      justify-content:center;
      gap:32px;
    }
    .score-row span span{
      font-weight:700;
    }

    /* BOTTOM AREA ‚Äì signature left, certificate ID + QR right */
    .bottom-row{
      margin-top:34px;
      display:flex;
      align-items:flex-end;
      justify-content:space-between;
      gap:30px;
      flex-wrap:wrap;
    }

    .sign-block{
      min-width:260px;
    }

    /* big signature, clearly inside border */
    .sign-top-row{
      height:70px;            /* reserved height for signature */
      margin-bottom:4px;
      position:relative;
    }

    .sign-signature{
      position:absolute;
      left:0;
      bottom:0;
      height:150px;           /* adjust up/down if needed */
      width:auto;
      object-fit:contain;
      background:transparent;
      mix-blend-mode:multiply;
    }

    .sign-line{
      border-bottom:1.8px solid var(--ink);
      width:260px;
      margin:0;
    }

    .sign-name{
      font-weight:800;
      font-size:.95rem;
      color:var(--ink);
      margin-top:4px;
    }

    .sign-role{
      font-size:.82rem;
      color:var(--ink-soft);
      line-height:1.3;
    }

    .qr-block{
      min-width:230px;
      max-width:280px;
      text-align:right;
    }

    .qr-label{
      font-size:.8rem;
      font-weight:700;
      color:var(--ink);
    }

    .qr-id{
      display:inline-block;
      margin:6px 0 10px;
      padding:3px 10px;
      border-radius:999px;
      border:1px dashed var(--gold);
      background:#fffbeb;
      font-size:.8rem;
      font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,"Liberation Mono","Courier New",monospace;
    }

    .qr-img{
      display:block;
      width:40px;
      height:40px;
      border-radius:10px;
      margin-left:auto;
      object-fit:contain;
      background:#f9fafb;
      box-shadow:0 0 0 1px rgba(148,163,184,.8);
    }

    .qr-text{
      margin-top:6px;
      font-size:.78rem;
      color:var(--ink-soft);
    }
    .qr-text a{
      color:#0f766e;
      text-decoration:underline;
      text-underline-offset:2px;
      font-weight:600;
    }

    .actions{
      text-align:center;
      margin-top:14px;
    }

    .btn-print{
      display:inline-block;
      padding:10px 28px;
      border-radius:999px;
      border:none;
      cursor:pointer;
      font-weight:700;
      font-size:.95rem;
      background:#059669;
      color:#ecfdf5;
      box-shadow:0 12px 28px rgba(5,150,105,.45);
    }
    .btn-print:active{
      transform:translateY(1px);
      box-shadow:0 7px 18px rgba(5,150,105,.6);
    }

    footer.no-print{
      text-align:center;
      font-size:.78rem;
      margin-top:6px;
      color:#9ca3af;
    }

    /* MOBILE */
    @media (max-width:900px){
      .cert-frame{padding:8px;}
      .cert-paper{
        padding:22px 16px 28px;
      }
      .org-logo{height:64px;}
      .org-name{font-size:1.3rem;}
      .cert-main-heading{font-size:1.3rem;}
      .cert-text-main,
      .skills-text{font-size:.9rem;}
      .cert-name{font-size:2rem;}
      .bottom-row{
        align-items:flex-start;
        gap:24px;
      }
      .qr-block{
        text-align:left;
      }
      .qr-img{
        margin-left:0;
        width:88px;
        height:88px;
      }
      .sign-top-row{
        height:80px;
      }
      .sign-line{
        width:220px;
      }
    }

    /* PRINT ‚Äì force clean single-page A4 landscape */
    @media print{
      html,body{
        margin:0;
        padding:0;
        background:#ffffff!important;
      }
      @page{
        size:A4 landscape;
        margin:10mm;
      }
      .cert-frame{
        box-shadow:none;
        padding:0;
      }
      .cert-paper{
        margin:0 auto;
        max-width:none;
        width:100%;
        padding:26px 40px 30px;
      }
      .no-print{
        display:none!important;
      }
    }
  </style>

  <script defer data-domain="speakoutmentalhealth.github.io" src="https://plausible.io/js/script.js"></script>
  <script>
    (function(){
      try{ window.plausible && window.plausible('CertificateViewed'); }catch(e){}
    })();
  </script>
</head>
<body>
  <main>
    <div class="cert-wrapper">
      <div class="cert-frame">
        <div class="cert-paper">
          <div class="cert-watermark"></div>

          <div class="cert-content">
            <!-- TOP -->
            <div class="top-block">
              <div class="org-row">
                <img src="icons/logo.png" alt="MindCheck Joint Volunteer Training Logo" class="org-logo">
                <div class="org-name">SpeakOut MindCheck Nigeria</div>
                <div class="org-subtitle">
                  Joint volunteer training by SpeakOut Mental Health Outreach, Synia Aid Foundation &amp; AfriHud
                </div>
              </div>

              <div class="cert-main-heading">Certificate of Joint Volunteer Training</div>

              <p class="cert-text-main">
                This certifies that the volunteer named below has successfully completed the
                <b>MindCheck Joint Volunteer Training</b> delivered by
                <b>SpeakOut Mental Health Outreach, Synia Aid Foundation &amp; AfriHud</b>, covering safe listening,
                risk recognition, privacy-first logging and ethical referral for community and humanitarian settings.
              </p>

              <div class="awarded">This certificate is proudly presented to</div>
              <div id="cName" class="cert-name">‚Äî</div>

              <p class="skills-text">
                By achieving the required pass mark, this volunteer is recognised as a trained MindCheck community supporter,
                equipped to offer basic psychosocial support in line with WHO-style community mental-health action for
                campus, community and humanitarian outreach programmes run by <b>SpeakOut, Synia Aid Foundation &amp; AfriHud</b>.
              </p>

              <div class="score-row">
                <span>Score: <span id="cScore">‚Äî</span>%</span>
                <span>Date: <span id="cDate">‚Äî</span></span>
              </div>
            </div>

            <!-- BOTTOM -->
            <div class="bottom-row">
              <!-- signature -->
              <div class="sign-block">
                <div class="sign-top-row">
                  <!-- use a transparent PNG for best look -->
                  <img src="icons/signature.png" alt="Signature of Offorka Jerry" class="sign-signature">
                </div>
                <div class="sign-line"></div>
                <div class="sign-name">Offorka Jerry</div>
                <div class="sign-role">
                  Founder / Executive Director<br>
                  SpeakOut Mental Health Outreach<br>
                  (Lead partner ‚Äì MindCheck Joint Volunteer Training)
                </div>
              </div>

              <!-- ID + QR -->
              <div class="qr-block">
                <div class="qr-label">Certificate ID</div>
                <div id="cId" class="qr-id">UNREGISTERED</div>
                <img id="qrImg" class="qr-img" alt="QR code for certificate verification">
                <p class="qr-text">
                  Scan to confirm this certificate with the <b>MindCheck Joint Volunteer Training</b> verification service.
                  To confirm authenticity, please <a id="verifyLink" href="verify.html">verify here</a>.
                </p>
              </div>
            </div>
          </div>

        </div>
      </div>

      <div class="actions no-print">
        <button class="btn-print" onclick="window.print()">Download / Print PDF</button>
      </div>
    </div>
  </main>

  <footer class="no-print">
    üîí <a href="privacy.html">Privacy</a> ‚Ä¢
    üìÑ <a href="terms.html">Terms</a> ‚Ä¢
    üè• <a href="resources.html">Clinics & Resources</a> ‚Ä¢
    ‚úâÔ∏è <a href="mailto:speaaakout@gmail.com">speaaakout@gmail.com</a>
  </footer>

  <script>
    // Parse URL params
    const params    = new URLSearchParams(location.search);
    const nameParam = params.get('name') || 'Volunteer';
    const scoreParam= params.get('score') || '100';
    const dateParam = params.get('date');
    const cidParam  = params.get('cid') || params.get('cert_id') || '';

    const nameEl  = document.getElementById('cName');
    const scoreEl = document.getElementById('cScore');
    const dateEl  = document.getElementById('cDate');
    const idEl    = document.getElementById('cId');
    const qrImg   = document.getElementById('qrImg');
    const verifyLink = document.getElementById('verifyLink');

    nameEl.textContent = nameParam;
    scoreEl.textContent = scoreParam;

    let dt = new Date();
    if (dateParam) {
      try { dt = new Date(decodeURIComponent(dateParam)); } catch(e){}
    }
    dateEl.textContent = dt.toLocaleDateString();

    if (cidParam) {
      idEl.textContent = cidParam;

      // verify link
      const verifyUrl = 'verify.html?id=' + encodeURIComponent(cidParam);
      verifyLink.href = verifyUrl;

      // full URL for QR
      const fullVerify =
        location.origin +
        location.pathname.replace('certificate.html','verify.html') +
        '?id=' + encodeURIComponent(cidParam);

      qrImg.src =
        'https://api.qrserver.com/v1/create-qr-code/?size=160x160&data=' +
        encodeURIComponent(fullVerify);
    } else {
      idEl.textContent = 'UNREGISTERED';
      qrImg.style.display = 'none';
      verifyLink.href = 'verify.html';
    }
  </script>
</body>
</html>

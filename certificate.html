<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>MindCheck Certificate</title>

  <style>
    :root{
      --ink:#0b1f2a;
      --muted:#5b6b79;
      --border:#1f2a37;
    }

    body{
      margin:0;
      font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
      background:#f3f4f6;
      color:var(--ink);
    }

    /* Screen preview wrapper */
    .screenWrap{
      max-width: 1100px;
      margin: 14px auto;
      padding: 12px;
    }

    /* A4 Landscape certificate canvas */
    .page{
      width: 297mm;
      height: 210mm;
      background:#fff;
      margin: 0 auto;
      border: 1px solid rgba(0,0,0,.12);
      border-radius: 10px;
      position: relative;
      overflow: hidden;  /* key: prevents spill */
      box-sizing:border-box;
    }

    .inner{
      position:absolute;
      inset: 12mm;
      border: 2px solid rgba(17,24,39,.65);
      border-radius: 10px;
      padding: 12mm;
      box-sizing:border-box;
    }

    .topLogo{
      text-align:center;
      margin-bottom: 6mm;
    }
    .topLogo img{
      height: 22mm;
      width:auto;
      object-fit:contain;
    }

    .title{
      text-align:center;
      font-weight: 900;
      letter-spacing: .12em;
      font-size: 16pt;
      margin: 2mm 0 4mm;
    }

    .sub{
      text-align:center;
      color:var(--muted);
      font-weight: 700;
      font-size: 10.5pt;
      line-height:1.35;
      max-width: 240mm;
      margin: 0 auto 6mm;
    }

    .presented{
      text-align:center;
      margin-top: 6mm;
      color: var(--muted);
      font-weight: 900;
      letter-spacing: .18em;
      font-size: 9.5pt;
    }

    .name{
      text-align:center;
      font-size: 26pt;
      font-weight: 950;
      margin: 4mm 0 4mm;
    }

    .bodyText{
      text-align:center;
      font-size: 10.5pt;
      font-weight: 650;
      color:#22303c;
      line-height:1.45;
      max-width: 240mm;
      margin: 0 auto;
    }

    /* Footer band */
    .footerRow{
      position:absolute;
      left: 12mm;
      right: 12mm;
      bottom: 10mm;
      display:flex;
      align-items:flex-end;
      justify-content:space-between;
      gap: 10mm;
    }

    .sig{
      min-width: 95mm;
    }
    .sigLine{
      border-top: 2px solid rgba(17,24,39,.65);
      margin-bottom: 2mm;
      width: 90mm;
    }
    .sig small{
      display:block;
      color:var(--muted);
      font-weight: 750;
      line-height:1.25;
    }

    /* CERT ID block: now wider and neatly aligned so nothing drops to page 2 */
    .certBox{
      min-width: 92mm;
      max-width: 92mm;
      border: 2px dashed rgba(17,24,39,.55);
      border-radius: 10px;
      padding: 6mm;
      box-sizing:border-box;
      text-align:left;
    }
    .certBox b{
      display:block;
      font-size: 10.5pt;
      margin-bottom: 2mm;
    }
    .certId{
      font-weight: 950;
      letter-spacing: .04em;
      font-size: 10pt;
      margin-bottom: 3mm;
      word-break: break-word;
    }
    .qrRow{
      display:flex;
      gap: 6mm;
      align-items:center;
    }
    .qr{
      width: 26mm;
      height: 26mm;
      border:1px solid rgba(0,0,0,.12);
      border-radius:6px;
      display:flex;
      align-items:center;
      justify-content:center;
      overflow:hidden;
    }
    .qr img{ width:100%; height:100%; object-fit:cover; }

    .verifyTxt{
      color:var(--muted);
      font-weight: 750;
      font-size: 9.5pt;
      line-height:1.25;
    }
    .verifyTxt a{ color:#166534; font-weight: 950; }

    .metaRow{
      display:flex;
      justify-content:center;
      gap: 20mm;
      margin-top: 6mm;
      font-weight: 900;
      color:#1f2937;
      font-size: 10pt;
    }

    /* PRINT: exact A4 landscape, one page only */
    @page { size: A4 landscape; margin: 0; }
    @media print{
      body{ background:#fff; }
      .screenWrap{ margin:0; padding:0; }
      .page{ border:none; border-radius:0; width: 297mm; height: 210mm; }
    }
  </style>
</head>

<body>
  <div class="screenWrap">
    <div class="page" id="page">
      <div class="inner">
        <div class="topLogo">
          <!-- swap to your logo path -->
          <img src="icons/apple-touch-icon.png" alt="MindCheck Logo">
        </div>

        <div class="title">CERTIFICATE OF JOINT VOLUNTEER TRAINING</div>

        <div class="sub">
          This certifies that the volunteer named below has successfully completed the MindCheck Joint Volunteer Training
          delivered by <b>SpeakOut Mental Health Outreach</b>, <b>Synia Aid Foundation</b> & <b>AfriHud</b>, covering safe listening,
          risk recognition, privacy-first logging, and ethical referral for community & humanitarian settings.
        </div>

        <div class="presented">THIS CERTIFICATE IS PROUDLY PRESENTED TO</div>
        <div class="name" id="name">Volunteer Name</div>

        <div class="bodyText">
          By achieving the required pass mark, this volunteer is recognised as a trained MindCheck community supporter,
          equipped to offer basic psychosocial support in a safe, respectful way and connect people to appropriate help.
        </div>

        <div class="metaRow">
          <div>Score: <span id="score">0</span>%</div>
          <div>Date: <span id="date">—</span></div>
        </div>

        <div class="footerRow">
          <div class="sig">
            <div class="sigLine"></div>
            <small><b>Offorka Jerry</b></small>
            <small>Founder / Executive Director</small>
            <small>SpeakOut Mental Health Outreach</small>
            <small>(Lead partner — MindCheck Joint Volunteer Training)</small>
          </div>

          <div class="certBox">
            <b>Certificate ID</b>
            <div class="certId" id="certId">MC-CERT-YYYYMMDD-XXXX</div>
            <div class="qrRow">
              <div class="qr">
                <!-- optional: swap to a real QR generator output image -->
                <img id="qrImg" src="icons/qr-placeholder.png" alt="QR code"/>
              </div>
              <div class="verifyTxt">
                Scan to confirm.<br/>
                Or verify online:<br/>
                <a id="verifyLink" href="verify.html" target="_blank" rel="noopener">verify here</a>
              </div>
            </div>
          </div>
        </div>

      </div>
    </div>
  </div>

<script>
  // Read URL params
  const p = new URLSearchParams(location.search);
  const name = p.get('name') || 'Volunteer';
  const score = p.get('score') || '0';
  const dateIso = p.get('date') || new Date().toISOString();
  const certId = p.get('cert_id') || 'MC-CERT-UNKNOWN';

  document.getElementById('name').textContent = name;
  document.getElementById('score').textContent = score;

  const dt = new Date(dateIso);
  document.getElementById('date').textContent = isNaN(dt.getTime()) ? dateIso : dt.toLocaleDateString();

  document.getElementById('certId').textContent = certId;

  // Verify link carries cert_id
  const verifyUrl = `verify.html?cert_id=${encodeURIComponent(certId)}`;
  const a = document.getElementById('verifyLink');
  a.href = verifyUrl;

  // Optional: if you later generate a QR image URL, set it here
  // document.getElementById('qrImg').src = `https://your-qr-service/?data=${encodeURIComponent(location.origin + '/' + verifyUrl)}`;
</script>
</body>
</html>

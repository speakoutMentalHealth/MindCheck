<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>SpeakOut MindCheck 💚</title>
<link rel="icon" type="image/png" href="favicon.png" />
<style>
:root {
  --green:#22c55e; --greenDark:#16a34a;
  --ink:#062436; --gray:#e5e7eb; --bg:#f5fdf8;
}
body{
  font-family:"Inter",system-ui,-apple-system,Segoe UI,Roboto,sans-serif;
  background:var(--bg);color:var(--ink);text-align:center;margin:0;padding:0;
}
header{
  background:var(--green);color:#fff;font-weight:800;
  padding:1.2rem;font-size:1.6rem;box-shadow:0 2px 6px rgba(0,0,0,.1);
}
h2{margin-top:0.5rem;color:var(--ink);}
p{margin:.6rem 0;}
.btn{
  border:none;border-radius:40px;padding:12px 30px;font-size:1rem;
  cursor:pointer;transition:.2s;font-weight:600;
}
.btn-primary{
  background:var(--green);color:#fff;
  box-shadow:0 6px 20px rgba(34,197,94,.3);
}
.btn-primary:hover{background:var(--greenDark);}
.btn-ghost{
  background:#fff;border:1px solid var(--gray);color:var(--ink);
}
section{display:none;padding:20px;animation:fadeIn .25s ease-in-out;}
section.active{display:block;}
@keyframes fadeIn{from{opacity:0;transform:translateY(10px);}to{opacity:1;transform:translateY(0);}}
.grid{
  display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));
  gap:16px;margin:20px auto;max-width:760px;
}
.card{
  background:#fff;border:1px solid var(--gray);border-radius:16px;padding:18px;
  box-shadow:0 6px 18px rgba(2,23,34,.05);cursor:pointer;transition:transform .15s;
}
.card:hover{transform:translateY(-2px);}
.card .big{font-size:32px;}
.card h3{margin:.5rem 0 .25rem;}
.stats{
  display:flex;gap:8px;justify-content:center;flex-wrap:wrap;margin-top:8px;
}
.pill{
  background:#fff;border:1px solid #ddd;border-radius:999px;
  padding:6px 12px;font-weight:600;
}
.mood-row{
  display:flex;justify-content:center;gap:14px;flex-wrap:wrap;margin:18px 0;
}
.mood{
  font-size:28px;background:#fff;border:1px solid #ddd;border-radius:12px;
  padding:10px 14px;cursor:pointer;width:90px;text-align:center;line-height:1.4;
}
.mood-label{display:block;font-size:.8rem;color:#334155;font-weight:600;}
.mood.selected{border-color:var(--green);background:#e9fcef;transform:scale(1.05);}
.result{
  background:#f0f7ff;border:1px solid #cfe3ff;border-radius:10px;
  padding:12px;margin:14px auto;max-width:520px;
}
footer{
  margin:28px 0 40px;font-size:.95rem;opacity:.9;
}
footer a{color:inherit;}
.toolbar{display:flex;gap:10px;justify-content:center;flex-wrap:wrap;margin-top:10px;}
</style>
</head>
<body>
<header>🧠 SpeakOut MindCheck Nigeria</header>

<!-- Start -->
<section id="startSection" class="active">
  <p>Check your mental health privately, safely, and in your preferred language.</p>
  <button id="startBtn" class="btn btn-primary">Start Now</button>
</section>

<!-- Language -->
<section id="langSection">
  <p style="font-weight:700;">🌍 Choose your language:</p>
  <div class="grid" style="max-width:500px;">
    <button class="btn btn-primary live" data-lang="en">English</button>
    <button class="btn btn-ghost" disabled>Hausa — Coming Soon</button>
    <button class="btn btn-ghost" disabled>Yoruba — Coming Soon</button>
    <button class="btn btn-ghost" disabled>Igbo — Coming Soon</button>
  </div>
</section>

<!-- Home -->
<section id="homeSection">
  <h2>Welcome 🌿</h2>
  <p id="statsText"></p>
  <div class="stats">
    <span class="pill">Points: <span id="pointsPill">0</span></span>
    <span class="pill">Streak: <span id="streakPill">0</span></span>
  </div>
  <div class="grid">
    <div class="card" id="goMood"><div class="big">😊</div><h3>Check Your Mood</h3><p>Daily check-in (+10 pts)</p></div>
    <div class="card" id="goTips"><div class="big">🌿</div><h3>Wellness Tips</h3><p>Quick self-care ideas</p></div>
    <div class="card" id="goHelp"><div class="big">📞</div><h3>Get Help</h3><p>Hotlines & support</p></div>
  </div>
</section>

<!-- Mood -->
<section id="moodSection">
  <h2>How are you feeling today?</h2>
  <div class="mood-row">
    <button class="mood" data-val="4">😄<br><span class="mood-label">Very Happy</span></button>
    <button class="mood" data-val="3">😊<br><span class="mood-label">Happy</span></button>
    <button class="mood" data-val="2">😐<br><span class="mood-label">Okay</span></button>
    <button class="mood" data-val="1">😞<br><span class="mood-label">Sad</span></button>
    <button class="mood" data-val="0">😢<br><span class="mood-label">Very Sad</span></button>
  </div>
  <div id="moodResult" class="result" style="display:none;"></div>
  <div class="toolbar"><button id="moodBackHome" class="btn btn-ghost">Back Home</button></div>
</section>

<!-- Tips -->
<section id="tipsSection">
  <h2>Wellness Tips 🌿</h2>
  <p id="tipText"></p>
  <div class="toolbar">
    <button id="nextTip" class="btn btn-primary">Show another tip</button>
    <button id="tipsBackHome" class="btn btn-ghost">Back Home</button>
  </div>
</section>

<!-- Help -->
<section id="helpSection">
  <h2>Get Help 📞</h2>
  <div class="grid" style="max-width:700px;">
    <a class="card" href="tel:112"><div class="big">🚑</div><h3>Emergency (112)</h3><p>Call for urgent help</p></a>
    <a class="card" href="tel:+2348118103510"><div class="big">📞</div><h3>SpeakOut Helpline</h3><p>Call us for support</p></a>
    <a class="card" href="https://wa.me/2348118103510" target="_blank"><div class="big">💬</div><h3>WhatsApp</h3><p>Chat with volunteer</p></a>
  </div>
  <div class="toolbar"><button id="helpBackHome" class="btn btn-ghost">Back Home</button></div>
</section>

<footer>
🔒 <a href="/MindCheck/privacy.html">Privacy</a> • 📄 <a href="/MindCheck/terms.html">Terms</a> • ✉️ <a href="mailto:speaaakout@gmail.com">support@speakout.ng</a>
</footer>

<script>
const startBtn=document.getElementById('startBtn');
const langSection=document.getElementById('langSection');
const homeSection=document.getElementById('homeSection');
const moodSection=document.getElementById('moodSection');
const tipsSection=document.getElementById('tipsSection');
const helpSection=document.getElementById('helpSection');
const moodResult=document.getElementById('moodResult');
const pointsPill=document.getElementById('pointsPill');
const streakPill=document.getElementById('streakPill');
const statsText=document.getElementById('statsText');
const tipText=document.getElementById('tipText');
const API_URL="PASTE_YOUR_GOOGLE_APPS_SCRIPT_URL_HERE";

function show(sec){[langSection,homeSection,moodSection,tipsSection,helpSection,startBtn.parentElement].forEach(s=>s.classList.remove('active'));sec.classList.add('active');}

startBtn.onclick=()=>show(langSection);
document.querySelectorAll('.live').forEach(b=>b.onclick=()=>show(homeSection));
document.getElementById('goMood').onclick=()=>show(moodSection);
document.getElementById('goTips').onclick=()=>{renderTip();show(tipsSection);}
document.getElementById('goHelp').onclick=()=>show(helpSection);
document.getElementById('moodBackHome').onclick=()=>show(homeSection);
document.getElementById('tipsBackHome').onclick=()=>show(homeSection);
document.getElementById('helpBackHome').onclick=()=>show(homeSection);

/* Local state */
const KEY_P="mc_points",KEY_S="mc_streak",KEY_L="mc_last",KEY_H="mc_hist";
const getP=()=>+localStorage.getItem(KEY_P)||0;
const setP=v=>localStorage.setItem(KEY_P,v);
const addP=n=>setP(getP()+n);
const getS=()=>+localStorage.getItem(KEY_S)||0;
const setS=v=>localStorage.setItem(KEY_S,v);
const getL=()=>localStorage.getItem(KEY_L)||"";
const setL=v=>localStorage.setItem(KEY_L,v);
const today=()=>new Date().toISOString().slice(0,10);
const getJ=(k,f)=>{try{return JSON.parse(localStorage.getItem(k)||JSON.stringify(f));}catch(e){return f;}};
const setJ=(k,v)=>localStorage.setItem(k,JSON.stringify(v));

/* Mood handling */
document.querySelectorAll('.mood').forEach(btn=>{
 btn.onclick=()=>{
  document.querySelectorAll('.mood').forEach(b=>b.classList.remove('selected'));
  btn.classList.add('selected');
  handleCheckin(+btn.dataset.val);
 };
});
function handleCheckin(v){
 const t=today(),l=getL();
 if(l===t){moodResult.style.display='block';moodResult.innerHTML='✅ Already checked in today!';return;}
 addP(10);setL(t);
 const yd=new Date();yd.setDate(yd.getDate()-1);const yStr=yd.toISOString().slice(0,10);
 setS(l===yStr?getS()+1:1);
 const arr=getJ(KEY_H,[]);arr.push({ts:new Date().toISOString(),m:v});setJ(KEY_H,arr);
 const em=['😢','😞','😐','😊','😄'][v],tip=['You’re not alone.','Breathe deeply.','Take a stretch.','Keep it up!','Share a smile!'][v];
 const pts=getP(),s=getS();let msg=`🎉 Thanks for checking in ${em} +10 points!<br>Points <b>${pts}</b> | Streak <b>${s}</b>`;
 if(s%20===0){const uid='MC'+Math.random().toString(36).slice(2,8);
  msg+=`<br>🏆 You’ve won ₦1000!<br><a href="https://wa.me/2348118103510?text=Claim ₦1000 ID:${uid}" class="btn btn-primary" target="_blank">Claim via WhatsApp</a>`;
 }
 moodResult.innerHTML=msg+`<p><b>Tip:</b> ${tip}</p>`;moodResult.style.display='block';
 updateStats();
 const payload={uid:'UID_'+navigator.userAgent.slice(-6),mood_value:v,streak:s,points:pts,
   timestamp:new Date().toISOString(),timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,source:'pwa'};
 fetch(API_URL,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(payload)})
 .then(r=>r.json()).then(d=>console.log('✅ sent',d)).catch(e=>console.error(e));
}

/* Tips */
const TIPS=[
 "Try 4-7-8 breathing for one minute.",
 "Take a 10-minute walk in fresh air.",
 "Text a friend to say hi.",
 "Write down 3 things you’re grateful for.",
 "Drink a glass of water and stretch.",
 "Mute non-urgent notifications for 30 minutes.",
 "Do a slow body scan from head to toe."
];
function renderTip(){tipText.textContent=TIPS[Math.floor(Math.random()*TIPS.length)];}
document.getElementById('nextTip').onclick=renderTip;

/* Stats */
function updateStats(){
 const arr=getJ(KEY_H,[]);
 const now=new Date();const wkAgo=new Date(now);wkAgo.setDate(now.getDate()-7);
 const c=arr.filter(i=>new Date(i.ts)>=wkAgo).length;
 statsText.textContent=`📊 Mood checks this week: ${c}`;
 pointsPill.textContent=getP();streakPill.textContent=getS();
}
updateStats();
</script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"/>
  <title>MindCheck Joint Volunteer Training â€” SpeakOut â€¢ Synia Aid Foundation â€¢ AfriHud</title>

  <link rel="icon" href="favicon.png"/>
  <link rel="stylesheet" href="mc-theme.css"/>
  <meta name="theme-color" content="#22c55e"/>

  <!-- Plausible -->
  <script defer data-domain="speakoutmentalhealth.github.io" src="https://plausible.io/js/script.js"></script>

  <style>
    :root{
      --green:#22c55e;
      --greenDark:#16a34a;
      --ink:#062436;
      --muted:#52606d;
      --bg:#f5fdf8;
      --card:#ffffff;
      --border:#e8eef5;

      --shadow: 0 12px 30px rgba(2, 23, 34, .08);

      --radius:18px;
      --radiusSm:14px;

      --safeB: env(safe-area-inset-bottom, 0px);
      --safeT: env(safe-area-inset-top, 0px);
    }

    body{
      margin:0;
      color:var(--ink);
      background:
        radial-gradient(1200px 600px at 10% 10%, rgba(34,197,94,.10), transparent 60%),
        radial-gradient(900px 500px at 90% 20%, rgba(34,197,94,.08), transparent 55%),
        var(--bg);
      font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
      overflow-x:hidden;
    }

    /* ---- Mobile-friendly header ---- */
    header.hero{
      padding: calc(14px + var(--safeT)) 14px 14px;
      background: linear-gradient(90deg, var(--greenDark), var(--green));
      color:#fff;
      border-bottom-left-radius: 26px;
      border-bottom-right-radius: 26px;
      box-shadow: 0 10px 30px rgba(34,197,94,.20);
    }
    .heroTop{
      display:flex;
      gap:12px;
      align-items:center;
      justify-content:space-between;
      flex-wrap:wrap;
    }
    .brand{
      display:flex; align-items:center; gap:10px;
      min-width: 220px;
    }
    .brand .logo{
      width:44px; height:44px;
      border-radius: 12px;
      background: rgba(255,255,255,.18);
      display:grid; place-items:center;
      font-size: 22px;
      box-shadow: 0 10px 18px rgba(0,0,0,.12);
    }
    .brand h1{
      margin:0;
      font-size: 1.15rem;
      line-height:1.15;
      font-weight: 900;
      letter-spacing: .2px;
    }
    .brand p{
      margin:.15rem 0 0;
      opacity:.9;
      font-weight:700;
      font-size:.9rem;
    }
    .heroBtns{
      display:flex; gap:10px; flex-wrap:wrap;
      justify-content:flex-end;
    }

    /* buttons */
    .btn{
      border:none;
      padding: 12px 14px;
      border-radius: 14px;
      font-weight: 900;
      cursor:pointer;
      transition: .15s;
      text-decoration:none;
      display:inline-flex;
      gap:8px;
      align-items:center;
      justify-content:center;
      user-select:none;
      -webkit-tap-highlight-color: transparent;
      white-space:nowrap;
    }
    .btn:active{ transform: translateY(1px); }
    .btn-primary{
      background:#fff;
      color:#0b3a25;
      box-shadow: 0 10px 18px rgba(0,0,0,.12);
    }
    .btn-ghost{
      background: rgba(255,255,255,.16);
      color:#fff;
      border: 1px solid rgba(255,255,255,.25);
      backdrop-filter: blur(8px);
    }
    .btn-primary:hover{ filter: brightness(.98); }
    .btn-ghost:hover{ background: rgba(255,255,255,.22); }

    main{
      max-width: 980px;
      margin: 14px auto 120px; /* bottom space for sticky nav */
      padding: 0 14px;
    }

    .card{
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      padding: 16px;
      box-shadow: var(--shadow);
    }

    .muted{ color: var(--muted); }
    .center{ text-align:center; }

    /* ---- Gamified HUD ---- */
    .hud{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 10px;
      margin-top: 12px;
    }
    .pill{
      background: #fff;
      border: 1px solid var(--border);
      border-radius: 999px;
      padding: 10px 12px;
      font-weight: 900;
      display:flex;
      gap:10px;
      align-items:center;
      justify-content:center;
      box-shadow: 0 10px 20px rgba(2,23,34,.06);
    }
    .pill small{ font-weight:800; opacity:.9; }
    .barWrap{
      grid-column: 1 / -1;
      background:#e9f7ee;
      border:1px solid #cfeedd;
      border-radius:999px;
      overflow:hidden;
      height: 14px;
    }
    .bar{
      height:100%;
      width:0%;
      background: linear-gradient(90deg, var(--greenDark), var(--green));
      border-radius:999px;
      transition: width .25s ease;
    }
    .hudMeta{
      display:flex; justify-content:space-between;
      font-weight:900;
      margin-top:8px;
    }

    /* ---- Intro section (ONLY once) ---- */
    #introCard ul{
      margin:.6rem 0 0;
      padding-left: 18px;
      line-height: 1.6;
    }
    .callout{
      margin-top: 12px;
      background: #ecfdf3;
      border: 1px solid #b7f3cd;
      border-radius: 16px;
      padding: 12px;
      font-weight: 900;
      color:#0f5132;
    }

    /* ---- Lesson area ---- */
    #lessonStage{
      margin-top: 14px;
    }

    .lesson{
      display:none;
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      padding: 16px;
      box-shadow: var(--shadow);
      text-align:left;
    }
    .lesson h2{
      margin: 0 0 6px;
      font-size: 1.15rem;
      line-height:1.25;
    }
    .lesson .lessonMeta{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      align-items:center;
      margin-bottom: 10px;
    }
    .tag{
      display:inline-flex;
      gap:8px;
      align-items:center;
      padding: 8px 12px;
      border-radius: 999px;
      border:1px solid var(--border);
      background:#fff;
      font-weight: 900;
    }

    /* Bigger images */
    .lessonImg{
      width:100%;
      max-height: 320px;
      object-fit: cover;
      border-radius: 16px;
      border: 1px solid rgba(2,23,34,.08);
      box-shadow: 0 10px 22px rgba(2,23,34,.10);
      margin: 10px 0 12px;
    }

    .box{
      background:#fff;
      border:1px solid var(--border);
      border-radius: 16px;
      padding: 12px;
      margin: 10px 0;
    }
    .box h3{
      margin:.1rem 0 .35rem;
      font-size: 1.02rem;
    }
    .box ul{
      margin:.45rem 0 .1rem;
      padding-left: 18px;
      line-height: 1.65;
    }
    .mini{
      background:#f8fafc;
      border:1px dashed #d1d5db;
    }
    .check{
      display:grid;
      grid-template-columns: 1fr;
      gap: 8px;
      margin-top: 8px;
    }
    .check button{
      width:100%;
      border-radius: 14px;
      border: 1px solid var(--border);
      padding: 12px;
      font-weight: 900;
      cursor:pointer;
      background:#fff;
      text-align:left;
    }
    .check button:active{ transform: translateY(1px); }

    /* ---- Sticky lesson navigation (always visible) ---- */
    .stickyNav{
      position: fixed;
      left: 0; right: 0;
      bottom: 0;
      padding: 10px 12px calc(10px + var(--safeB));
      background: rgba(245, 253, 248, .92);
      backdrop-filter: blur(10px);
      border-top: 1px solid rgba(2,23,34,.10);
      z-index: 50;
    }
    .navInner{
      max-width: 980px;
      margin: 0 auto;
      display:flex;
      gap:10px;
      align-items:center;
      justify-content:space-between;
      flex-wrap:wrap;
    }
    .navLeft{
      display:flex;
      gap:10px;
      align-items:center;
      flex-wrap:wrap;
    }
    .navRight{
      display:flex;
      gap:10px;
      align-items:center;
      flex-wrap:wrap;
      justify-content:flex-end;
      width: 100%;
    }
    @media(min-width:680px){
      .navRight{ width:auto; }
    }

    .navBtn{
      flex: 1 1 140px;
      min-width: 140px;
    }
    .navBtn .btn{ width:100%; }

    /* ---- Quiz area ---- */
    .quiz-card{
      margin-top: 14px;
      display:none; /* unlocked after lesson 5 */
    }
    .q{ margin:12px 0; text-align:left; }
    .q legend{ font-weight: 900; margin-bottom: 6px; }
    .q label{
      display:block;
      padding: 10px 12px;
      border: 1px solid var(--border);
      border-radius: 14px;
      margin: 8px 0;
      cursor:pointer;
      background:#fff;
      transition: .12s;
    }
    .q label:hover{ transform: translateY(-1px); }
    .q input{ margin-right: 8px; }

    .result{
      display:none;
      margin-top: 12px;
      font-weight: 900;
      padding: 12px;
      border-radius: 16px;
      border: 1px solid var(--border);
      background:#fff;
    }
    .good{ color:#166534; border-color:#bbf7d0; background:#f0fdf4; }
    .bad{ color:#7f1d1d; border-color:#fecaca; background:#fef2f2; }

    /* Volunteer details */
    .info-card{
      background:#ffffff;
      border:1px solid var(--border);
      border-radius: 16px;
      padding: 14px;
      margin-top: 10px;
    }
    .info-row{
      display:grid;
      grid-template-columns: 1fr;
      gap:10px;
      margin-top: 10px;
    }
    @media(min-width:720px){
      .info-row{ grid-template-columns: 1fr 1fr; }
    }
    .info-label{
      display:block;
      font-size:.9rem;
      font-weight: 900;
      margin-bottom: 6px;
    }
    .info-input, .info-select{
      width:100%;
      box-sizing:border-box;
      border-radius: 14px;
      border: 1px solid #d1d5db;
      padding: 12px 12px;
      font-size: 1rem;
      background:#fff;
    }
    .info-hint{ font-size: .9rem; color:#6b7280; margin-top: 10px; }

    footer{
      margin: 18px 0 0;
      text-align:center;
      color: var(--muted);
      font-weight: 800;
      padding-bottom: 8px;
    }
    footer a{ color:inherit; }

  </style>
</head>

<body>

  <!-- HERO -->
  <header class="hero">
    <div class="heroTop">
      <div class="brand">
        <div class="logo">ğŸ§ </div>
        <div>
          <h1>MindCheck â€¢ Joint Volunteer Training</h1>
          <p>SpeakOut â€¢ Synia Aid Foundation â€¢ AfriHud</p>
        </div>
      </div>

      <div class="heroBtns">
        <a class="btn btn-ghost" href="volunteers.html">ğŸ‘¥ Volunteer Zone</a>
        <a class="btn btn-primary" href="resources.html">ğŸ¥ Clinics & Resources</a>
      </div>
    </div>
  </header>

  <main>

    <!-- INTRO (ONLY ONCE) -->
    <section id="introCard" class="card">
      <h2 class="center" style="margin:0 0 6px;">Get trained. Earn your badge. Help safely.</h2>
      <p class="muted center" style="margin:.25rem 0 0;">
        Finish <b>5 lessons</b> â†’ take the quiz (10 minutes) â†’ score <b>80%</b> to unlock your
        <b>Volunteer Trained</b> badge + certificate.
      </p>

      <div class="callout">
        âœ… This training is about <b>safe listening + referral skills</b>.<br/>
        âš ï¸ It is <b>not</b> emergency response. If someone is in danger: call <b>112</b> or find a trusted adult immediately.
      </div>

      <div class="box" style="margin-top:12px;">
        <h3>About this partnership</h3>
        <ul>
          <li><b>SpeakOut Mental Health Outreach</b> â€” campus/community education, safe listening, referral skills.</li>
          <li><b>Synia Aid Foundation</b> â€” education + poverty relief, support for vulnerable learners & families.</li>
          <li><b>AfriHud</b> â€” humanitarian/development work (youth empowerment, community development).</li>
        </ul>
      </div>

      <!-- Gamified HUD -->
      <div class="hud">
        <div class="pill">â­ XP: <span id="xpVal">0</span></div>
        <div class="pill">ğŸ… Badge: <span id="badgeVal">Locked</span></div>

        <div class="barWrap" aria-label="Progress bar">
          <div id="progressBar" class="bar"></div>
        </div>

        <div class="hudMeta">
          <div>ğŸ“˜ Lesson: <span id="lessonHud">1</span> / 5</div>
          <div><span id="pctHud">0%</span> complete â€¢ <span class="muted">Saved</span></div>
        </div>
      </div>

      <p class="muted" style="margin:12px 0 0;">
        <b>Quiz attempts rule:</b> You get <b>2 attempts per month</b>. If you fail twice, you must wait until next month to try again.
      </p>
    </section>

    <!-- LESSON STAGE (one at a time) -->
    <section id="lessonStage">

      <!-- Lesson 1 -->
      <article class="lesson" data-lesson="1">
        <div class="lessonMeta">
          <span class="tag">ğŸ“Œ Lesson 1</span>
          <span class="tag">ğŸ¯ Skill: Safe Listening</span>
        </div>
        <h2>Safe Listening Basics â€” the â€œL-I-S-T-E-Nâ€ method</h2>
        <img class="lessonImg" src="icons/listen.png" alt="Safe listening illustration"
             onerror="this.style.display='none'"/>

        <p class="muted">
          When someone opens up, your first job is not to â€œfixâ€ them. Your job is to help them feel safe,
          understood, and less alone â€” so they can take safer next steps.
        </p>

        <div class="box">
          <h3>The L-I-S-T-E-N steps</h3>
          <ul>
            <li><b>L â€” Listen:</b> Full attention. Phone down. Calm tone. Gentle eye contact. Donâ€™t rush.</li>
            <li><b>I â€” Inquire:</b> Ask open questions: â€œWhatâ€™s been hardest lately?â€ â€œWhen did it start?â€</li>
            <li><b>S â€” Summarize:</b> â€œSo youâ€™re feeling overwhelmed by exams and family pressure.â€</li>
            <li><b>T â€” Thank:</b> â€œThank you for trusting me. It takes courage to say this.â€</li>
            <li><b>E â€” Empathize:</b> â€œThat sounds heavy. Iâ€™m sorry youâ€™ve been carrying this alone.â€</li>
            <li><b>N â€” Next steps:</b> Agree one small step for today (water, breathing, trusted adult, clinic options).</li>
          </ul>
        </div>

        <div class="box mini">
          <h3>Mini scenario</h3>
          <p class="muted">
            <b>Person:</b> â€œIâ€™m tired of everything.â€<br/>
            <b>You:</b> â€œIâ€™m really glad you told me. What has today been like for you?â€<br/>
            <b>Summarize:</b> â€œSo the deadlines + money worries are affecting your sleep.â€<br/>
            <b>Next step:</b> â€œWould you like a short breathing exercise or to see clinic/helpline options?â€
          </p>
        </div>

        <div class="box">
          <h3>Quick check (tap one)</h3>
          <div class="check" data-check="l1">
            <button type="button" data-correct="1">A) â€œStop thinking about it, youâ€™ll be fine.â€</button>
            <button type="button" data-correct="0">B) â€œI hear you. Can you tell me whatâ€™s been the hardest part?â€ âœ…</button>
            <button type="button" data-correct="1">C) â€œOthers have it worse, be grateful.â€</button>
          </div>
          <p class="muted" id="checkMsg_l1" style="margin:.45rem 0 0;"></p>
        </div>
      </article>

      <!-- Lesson 2 -->
      <article class="lesson" data-lesson="2">
        <div class="lessonMeta">
          <span class="tag">ğŸ“Œ Lesson 2</span>
          <span class="tag">ğŸš¨ Skill: Red Flags</span>
        </div>
        <h2>Red Flags & Immediate Danger â€” what to do fast (without panic)</h2>
        <img class="lessonImg" src="icons/red-flags.png" alt="Red flags illustration"
             onerror="this.style.display='none'"/>

        <p class="muted">
          Most conversations are not emergencies â€” but some are. When thereâ€™s immediate danger, you donâ€™t stay silent
          and you donâ€™t â€œmanage it alone.â€ You escalate.
        </p>

        <div class="box">
          <h3>Immediate red flags</h3>
          <ul>
            <li>They say they have a plan to self-harm (â€œI will take pills tonightâ€).</li>
            <li>Current violence/abuse/threats happening right now.</li>
            <li>Child or vulnerable person is at risk (safeguarding issue).</li>
            <li>They canâ€™t stay safe (intoxication + threats, confusion, severe agitation).</li>
          </ul>
        </div>

        <div class="box">
          <h3>What you do (simple steps)</h3>
          <ul>
            <li><b>Stay present:</b> â€œYour safety matters. Iâ€™m here.â€</li>
            <li><b>Get location:</b> â€œWhere are you right now?â€ â€œAre you alone?â€</li>
            <li><b>Escalate:</b> Call <b>112</b> / your supervisor / safeguarding lead.</li>
            <li><b>Minimum notes:</b> date + concern + action taken (no private story).</li>
          </ul>
        </div>

        <div class="box mini">
          <h3>Mini scenario</h3>
          <p class="muted">
            <b>Person:</b> â€œI bought pills.â€<br/>
            <b>You:</b> â€œThank you for telling me. Are you alone right now? Iâ€™m calling for help â€” stay with me.â€
          </p>
        </div>

        <div class="box">
          <h3>Quick check (tap one)</h3>
          <div class="check" data-check="l2">
            <button type="button" data-correct="1">A) â€œLetâ€™s talk later, Iâ€™m busy.â€</button>
            <button type="button" data-correct="0">B) â€œAre you safe right now? Iâ€™m calling for urgent help.â€ âœ…</button>
            <button type="button" data-correct="1">C) â€œPray about it, donâ€™t worry.â€</button>
          </div>
          <p class="muted" id="checkMsg_l2" style="margin:.45rem 0 0;"></p>
        </div>
      </article>

      <!-- Lesson 3 -->
      <article class="lesson" data-lesson="3">
        <div class="lessonMeta">
          <span class="tag">ğŸ“Œ Lesson 3</span>
          <span class="tag">ğŸ§­ Skill: Boundaries & Referral</span>
        </div>
        <h2>Boundaries & Ethical Referral â€” help without overstepping</h2>
        <img class="lessonImg" src="icons/referral.png" alt="Referral illustration"
             onerror="this.style.display='none'"/>

        <p class="muted">
          Volunteers are connectors. Boundaries keep support safe for both you and the person.
          Referral means offering options, not forcing decisions.
        </p>

        <div class="box">
          <h3>Healthy boundaries</h3>
          <ul>
            <li><b>Your role:</b> listening, support, information, referral â€” not diagnosis or prescriptions.</li>
            <li><b>Availability:</b> avoid â€œIâ€™m always here.â€ Instead: â€œI can check in tomorrow afternoon.â€</li>
            <li><b>Channels:</b> use official group lines/accounts when possible.</li>
          </ul>
        </div>

        <div class="box">
          <h3>Ethical referral (the 3C method)</h3>
          <ul>
            <li><b>Consent:</b> â€œWould you like help options?â€</li>
            <li><b>Choices:</b> give 2â€“3 reputable options (clinic, helpline, counselor, trusted adult).</li>
            <li><b>Check-in:</b> agree follow-up: â€œCan I check on you in 2 days?â€</li>
          </ul>
        </div>

        <div class="box mini">
          <h3>Mini scenario</h3>
          <p class="muted">
            <b>Person:</b> â€œIâ€™m scared to go alone.â€<br/>
            <b>You:</b> â€œWould phone support be easier first? I can share options and we pick what feels safe today.â€
          </p>
        </div>

        <div class="box">
          <h3>Quick check (tap one)</h3>
          <div class="check" data-check="l3">
            <button type="button" data-correct="1">A) â€œGive me your password so I can monitor you.â€</button>
            <button type="button" data-correct="0">B) â€œI can share options. Which feels easiest for you?â€ âœ…</button>
            <button type="button" data-correct="1">C) â€œYou must do exactly what I say.â€</button>
          </div>
          <p class="muted" id="checkMsg_l3" style="margin:.45rem 0 0;"></p>
        </div>
      </article>

      <!-- Lesson 4 -->
      <article class="lesson" data-lesson="4">
        <div class="lessonMeta">
          <span class="tag">ğŸ“Œ Lesson 4</span>
          <span class="tag">ğŸ”’ Skill: Privacy</span>
        </div>
        <h2>Privacy-First Logging â€” â€œminimum necessaryâ€ notes</h2>
        <img class="lessonImg" src="icons/privacy.png" alt="Privacy illustration"
             onerror="this.style.display='none'"/>

        <p class="muted">
          Good notes help your team improve support â€” but they must protect the person.
          Log only whatâ€™s necessary: concern + action taken.
        </p>

        <div class="box">
          <h3>Log this</h3>
          <ul>
            <li><b>Date/time</b> (and general location if needed)</li>
            <li><b>General concern</b> (stress, anxiety, conflict, grief)</li>
            <li><b>Action</b> (breathing tip, referral list, escalated to supervisor, called emergency)</li>
          </ul>
        </div>

        <div class="box">
          <h3>Never log</h3>
          <ul>
            <li>Full names, phone numbers, hostel addresses, screenshots, photos.</li>
            <li>Gossip/judgment (â€œshe is dramaticâ€). Keep neutral tone.</li>
            <li>Long stories/transcripts. Use a short summary.</li>
          </ul>
        </div>

        <div class="box mini">
          <h3>Good example log</h3>
          <p class="muted">
            â€œ2026-01-02 â€¢ exam stress + poor sleep â€¢ taught grounding + shared clinic options â€¢ user chose WhatsApp helpline.â€
          </p>
        </div>

        <div class="box">
          <h3>Quick check (tap one)</h3>
          <div class="check" data-check="l4">
            <button type="button" data-correct="1">A) Save screenshots for evidence.</button>
            <button type="button" data-correct="0">B) Save only date + concern + action taken. âœ…</button>
            <button type="button" data-correct="1">C) Write full names and addresses.</button>
          </div>
          <p class="muted" id="checkMsg_l4" style="margin:.45rem 0 0;"></p>
        </div>
      </article>

      <!-- Lesson 5 -->
      <article class="lesson" data-lesson="5">
        <div class="lessonMeta">
          <span class="tag">ğŸ“Œ Lesson 5</span>
          <span class="tag">ğŸŒ Skill: Culture + Self-Care</span>
        </div>
        <h2>Cultural sensitivity & volunteer self-care â€” help without burnout</h2>
        <img class="lessonImg" src="icons/culture.png" alt="Culture & self-care illustration"
             onerror="this.style.display='none'"/>

        <p class="muted">
          People explain distress through culture, faith, family expectations, finances, and safety.
          Respect their worldview â€” while still offering safe support options.
        </p>

        <div class="box">
          <h3>Cultural sensitivity</h3>
          <ul>
            <li><b>Ask preferences:</b> â€œWhat language do you prefer?â€</li>
            <li><b>Respect beliefs:</b> if they value prayer, validate it and add supportive options.</li>
            <li><b>Use non-stigmatizing words:</b> â€œgoing through a hard timeâ€ instead of labels.</li>
          </ul>
        </div>

        <div class="box">
          <h3>Volunteer self-care</h3>
          <ul>
            <li><b>Debrief:</b> after heavy chats, speak to a supervisor.</li>
            <li><b>Limits:</b> donâ€™t take too many intense cases in one day.</li>
            <li><b>Signs:</b> if you feel overwhelmed, pause and escalate.</li>
          </ul>
        </div>

        <div class="box mini">
          <h3>Mini scenario</h3>
          <p class="muted">
            <b>Person:</b> â€œMy family thinks counseling is shameful.â€<br/>
            <b>You:</b> â€œI understand. Many people combine faith, trusted family support, and short counseling to feel better.
            Would you like discreet options you can choose from?â€
          </p>
        </div>

        <div class="box">
          <h3>Quick check (tap one)</h3>
          <div class="check" data-check="l5">
            <button type="button" data-correct="1">A) â€œYour culture is wrong.â€</button>
            <button type="button" data-correct="0">B) â€œI respect your beliefs â€” here are safe options you can choose.â€ âœ…</button>
            <button type="button" data-correct="1">C) â€œIgnore your family, do it my way.â€</button>
          </div>
          <p class="muted" id="checkMsg_l5" style="margin:.45rem 0 0;"></p>
        </div>
      </article>
    </section>

    <!-- QUIZ (unlocks after lesson 5) -->
    <section id="quizCard" class="card quiz-card">
      <h2 style="margin:0 0 6px;">Volunteer Quiz âœ…</h2>
      <p class="muted" style="margin:.25rem 0 10px;">
        Time: <b><span id="timeLeft">10:00</span></b> â€¢ Pass mark: <b>80%</b> â€¢ <span id="attemptInfo"></span>
      </p>

      <!-- Volunteer details (required) -->
      <div class="info-card" id="infoCard">
        <b>Volunteer details (required)</b>

        <div class="info-row">
          <div>
            <label class="info-label" for="candName">Full name</label>
            <input id="candName" class="info-input" type="text" placeholder="Your full name"/>
          </div>
          <div>
            <label class="info-label" for="candAge">Age</label>
            <input id="candAge" class="info-input" type="number" min="10" max="120" placeholder="Age"/>
          </div>
        </div>

        <div class="info-row">
          <div>
            <label class="info-label" for="candLocation">Location (city / state)</label>
            <input id="candLocation" class="info-input" type="text" placeholder="e.g. Abuja, Nasarawa"/>
          </div>
          <div>
            <label class="info-label" for="candRole">Preferred volunteer role</label>
            <select id="candRole" class="info-select">
              <option value="">Select an option</option>
              <option value="Campus volunteer">Campus volunteer</option>
              <option value="Community volunteer">Community volunteer</option>
              <option value="Online support volunteer">Online support volunteer</option>
              <option value="Clinic / hospital liaison">Clinic / hospital liaison</option>
              <option value="Other">Other</option>
            </select>
          </div>
        </div>

        <div class="info-row">
          <div>
            <label class="info-label" for="candNgo">NGO of choice</label>
            <select id="candNgo" class="info-select">
              <option value="">Select an option</option>
              <option value="SpeakOut Mental Health Outreach">SpeakOut Mental Health Outreach</option>
              <option value="Synia Aid Foundation">Synia Aid Foundation</option>
              <option value="AfriHud (Africa Initiative for Humanitarian Development)">AfriHud (Africa Initiative for Humanitarian Development)</option>
              <option value="Other">Other</option>
            </select>
          </div>
          <div>
            <label class="info-label" for="candWhatsApp">WhatsApp number</label>
            <input id="candWhatsApp" class="info-input" type="tel" placeholder="+234 80 0000 0000"/>
          </div>
        </div>

        <p class="info-hint">
          We only save this if you <b>pass</b>. It helps the SpeakOut / Synia / AfriHud teams place you correctly.
        </p>
      </div>

      <div style="display:flex; gap:10px; flex-wrap:wrap; margin-top:10px;">
        <button id="startQuiz" class="btn btn-primary" type="button" style="flex:1 1 160px;">Start Quiz</button>
        <a class="btn btn-ghost" href="volunteers.html" style="flex:1 1 160px;">â† Back to Volunteer Zone</a>
      </div>

      <form id="quizForm" style="display:none; margin-top:10px;"></form>

      <div id="quizBtns" style="display:none; gap:10px; flex-wrap:wrap; margin-top:10px;">
        <button id="submitQuiz" class="btn btn-primary" type="button" style="flex:1 1 160px;">Submit Quiz</button>
        <button id="resetQuiz" class="btn btn-ghost" type="button" style="flex:1 1 160px;">Reset</button>
      </div>

      <div id="quizResult" class="result" aria-live="polite"></div>

      <!-- PASS / CERT -->
      <div id="postPass" class="box" style="display:none; margin-top:12px;">
        <h3 style="margin:.1rem 0;">âœ… You passed!</h3>
        <p class="muted" style="margin:.25rem 0 10px;">
          Badge unlocked + certificate available.
        </p>

        <label class="info-label" for="certName">Your full name (for certificate)</label>
        <input id="certName" class="info-input" placeholder="Type your name exactly"/>

        <div style="display:flex; gap:10px; flex-wrap:wrap; margin-top:10px;">
          <button id="makeCert" class="btn btn-primary" type="button" style="flex:1 1 160px;">Generate Certificate</button>
          <a class="btn btn-ghost" href="index.html" style="flex:1 1 160px;">Open MindCheck Home</a>
        </div>

        <p id="certHint" class="muted" style="display:none; margin-top:10px;"></p>
      </div>
    </section>

    <footer>
      ğŸ”’ <a href="privacy.html">Privacy</a> â€¢
      ğŸ“„ <a href="terms.html">Terms</a> â€¢
      ğŸ¥ <a href="resources.html">Clinics & Resources</a> â€¢
      âœ‰ï¸ <a href="mailto:speaaakout@gmail.com">speaaakout@gmail.com</a>
    </footer>
  </main>

  <!-- Sticky lesson navigation -->
  <div class="stickyNav">
    <div class="navInner">
      <div class="navLeft">
        <div class="pill">ğŸ“ <span id="lessonChip">Lesson 1</span></div>
        <div class="pill">âœ… Completed: <span id="doneChip">0</span> / 5</div>
      </div>

      <div class="navRight">
        <div class="navBtn">
          <button id="prevLesson" class="btn btn-ghost" type="button">â¬…ï¸ Previous</button>
        </div>
        <div class="navBtn">
          <button id="nextLesson" class="btn btn-primary" type="button">Next â¡ï¸</button>
        </div>
      </div>
    </div>
  </div>

<script>
/* ========= CONFIG ========= */
const KEY_POINTS            = 'mc_points';
const KEY_BADGES            = 'mc_badges';
const KEY_LESSON_PROGRESS   = 'mc_training_lessons_done';
const KEY_TRAINING_ATTEMPTS = 'mc_training_attempts';
const KEY_TRAINING          = 'mc_training';
const KEY_TIMER_START       = 'mc_training_timer_start';
const KEY_CANDIDATE         = 'mc_training_candidate';

const PASS_MARK    = 0.8;
const BONUS_XP     = 50;
const QUIZ_SECONDS = 10 * 60;

/* ========= Helpers ========= */
const getJSON = (k,f)=>{ try{return JSON.parse(localStorage.getItem(k)||JSON.stringify(f));}catch(e){return f;} };
const setJSON = (k,v)=>localStorage.setItem(k,JSON.stringify(v));
const getPoints = ()=>parseInt(localStorage.getItem(KEY_POINTS)||'0',10);
const setPoints = v=>localStorage.setItem(KEY_POINTS,String(v));
const addPoints = n=>setPoints(getPoints()+n);
const getBadges = ()=>getJSON(KEY_BADGES,[]);
const setBadges = a=>setJSON(KEY_BADGES,a);
const awardBadge = id=>{
  const b=getBadges();
  if(!b.includes(id)){ b.push(id); setBadges(b); return true; }
  return false;
};

/* ========= Page view event ========= */
try { window.plausible && window.plausible('TrainingHubViewed'); } catch(e){}

/* ========= Mobile UI elements ========= */
const xpVal = document.getElementById('xpVal');
const badgeVal = document.getElementById('badgeVal');
const progressBar = document.getElementById('progressBar');
const lessonHud = document.getElementById('lessonHud');
const pctHud = document.getElementById('pctHud');
const lessonChip = document.getElementById('lessonChip');
const doneChip = document.getElementById('doneChip');

function updateHud(){
  const done = Math.min(parseInt(localStorage.getItem(KEY_LESSON_PROGRESS)||'0',10), totalLessons);
  const pct = Math.round((done/totalLessons)*100);

  xpVal.textContent = getPoints();
  badgeVal.textContent = getBadges().includes('volunteer_trained') ? 'Unlocked' : 'Locked';

  lessonHud.textContent = (currentLessonIndex+1);
  pctHud.textContent = pct + '%';
  progressBar.style.width = pct + '%';

  lessonChip.textContent = 'Lesson ' + (currentLessonIndex+1);
  doneChip.textContent = done;
}

/* ========= Lessons: show one at a time ========= */
const lessons = Array.from(document.querySelectorAll('.lesson'));
const totalLessons = lessons.length;

const prevLessonBtn = document.getElementById('prevLesson');
const nextLessonBtn = document.getElementById('nextLesson');

let currentLessonIndex = 0;

function showLesson(index){
  lessons.forEach((sec,i)=>sec.style.display = (i===index ? 'block' : 'none'));
  currentLessonIndex = index;

  prevLessonBtn.disabled = index === 0;
  nextLessonBtn.textContent = (index === totalLessons-1) ? 'Finish Lessons âœ…' : 'Next â¡ï¸';

  updateHud();

  // keep user at top of lesson content (mobile friendly)
  const top = document.getElementById('lessonStage');
  if(top) top.scrollIntoView({behavior:'smooth', block:'start'});
}

/* Completed lessons */
function getDone(){
  let n = parseInt(localStorage.getItem(KEY_LESSON_PROGRESS)||'0',10);
  if(!Number.isFinite(n) || n<0) n=0;
  if(n>totalLessons) n=totalLessons;
  return n;
}
function setDone(n){
  localStorage.setItem(KEY_LESSON_PROGRESS, String(n));
}

/* ========= Lesson nav actions ========= */
prevLessonBtn.addEventListener('click', ()=>{
  if(currentLessonIndex>0) showLesson(currentLessonIndex-1);
});

nextLessonBtn.addEventListener('click', ()=>{
  // mark current lesson as completed as user advances
  const done = getDone();
  const shouldBeDone = Math.max(done, currentLessonIndex+1);
  setDone(shouldBeDone);

  if(currentLessonIndex < totalLessons-1){
    showLesson(currentLessonIndex+1);
  } else {
    // Finished lessons -> unlock quiz
    setDone(totalLessons);
    unlockQuiz();
    // scroll to quiz
    document.getElementById('quizCard').scrollIntoView({behavior:'smooth', block:'start'});
  }
});

/* ========= Gamified quick-check buttons ========= */
function bindChecks(){
  const blocks = document.querySelectorAll('.check');
  blocks.forEach(block=>{
    const lessonKey = block.getAttribute('data-check');
    const msgEl = document.getElementById('checkMsg_' + lessonKey);
    block.querySelectorAll('button').forEach(btn=>{
      btn.addEventListener('click', ()=>{
        const isWrong = btn.getAttribute('data-correct') === '1';
        if(isWrong){
          msgEl.textContent = "âŒ Not quite. Choose the option that is calm, supportive, and respectful.";
        }else{
          msgEl.textContent = "âœ… Correct! That response supports safety and trust.";
          // small XP reward once per lesson check
          const rewardKey = 'mc_check_reward_' + lessonKey;
          if(localStorage.getItem(rewardKey) !== '1'){
            addPoints(5);
            localStorage.setItem(rewardKey,'1');
            updateHud();
          }
        }
      });
    });
  });
}

/* ========= Quiz unlock ========= */
const quizCard = document.getElementById('quizCard');
function unlockQuiz(){
  quizCard.style.display = 'block';
  try { window.plausible && window.plausible('TrainingLessonsCompleted'); } catch(e){}
  updateHud();
}

/* ========= Attempts per month (2 max) ========= */
function monthKey(){
  const d = new Date();
  const m = String(d.getMonth()+1).padStart(2,'0');
  return `${d.getFullYear()}-${m}`;
}
function getAttemptMap(){ return getJSON(KEY_TRAINING_ATTEMPTS, {}); }
function attemptsThisMonth(){
  const map = getAttemptMap();
  return map[monthKey()] || 0;
}
function recordAttempt(){
  const map = getAttemptMap();
  const mk = monthKey();
  map[mk] = (map[mk] || 0) + 1;
  setJSON(KEY_TRAINING_ATTEMPTS, map);
  return map[mk];
}
function canTakeQuiz(){ return attemptsThisMonth() < 2; }

const attemptInfoEl = document.getElementById('attemptInfo');
function updateAttemptInfo(){
  const used = attemptsThisMonth();
  attemptInfoEl.textContent = `Attempts this month: ${used} / 2`;
}

/* ========= Quiz questions ========= */
const QUESTIONS=[
  {q:"Which response best shows safe listening?",a:["Interrupt to give solutions","Listen, reflect, ask open questions","Tell them others have it worse"],c:1},
  {q:"Which is an immediate red flag?",a:["Occasional sadness","Active self-harm plan","Feeling tired after work"],c:1},
  {q:"Volunteers should avoid:",a:["Offering clinic options","Promising limited confidentiality","Giving medical advice/diagnoses"],c:2},
  {q:"If danger is happening now, whatâ€™s the first action?",a:["Keep chatting","Call 112 immediately","Tell them to relax"],c:1},
  {q:"Privacy-first logging means:",a:["Use minimal facts","Write their full name and story","Screenshot the chat for records"],c:0},
  {q:"Before making a referral you should:",a:["Get consent and offer choices","Choose one clinic for them","Ask for full medical history"],c:0},
  {q:"Boundaries help because they:",a:["Prevent burnout and role drift","Make you uncaring","Stop you from listening"],c:0},
  {q:"A good empathic reflection is:",a:["Youâ€™re overreacting","It sounds like this is hard for you","Calm down"],c:1},
  {q:"If unsure what to do:",a:["Do nothing","Escalate to supervisor/safeguarding lead","Post online for advice"],c:1},
  {q:"A small next step might be:",a:["Plan their whole life","Agree they call a clinic tomorrow","End abruptly"],c:1},
  {q:"Which is appropriate to log?",a:["Date + concern + action taken","Full name and address","Screenshots"],c:0},
  {q:"Cultural sensitivity includes:",a:["Respecting beliefs & language","Assuming everyone thinks alike","Correcting culture"],c:0},
  {q:"When a child may be at risk, you should:",a:["Keep it secret","Follow safeguarding protocol and escalate","Handle alone without records"],c:1},
  {q:"During listening, silence is:",a:["Useful to give space","A sign youâ€™re failing","To be avoided"],c:0},
  {q:"Consent in referrals means:",a:["Acting without telling them","Getting informed permission","Telling them they must accept"],c:1}
];

const form = document.getElementById('quizForm');
const startQuizBtn = document.getElementById('startQuiz');
const quizBtns = document.getElementById('quizBtns');
const submitQuizBtn = document.getElementById('submitQuiz');
const resetQuizBtn  = document.getElementById('resetQuiz');
const quizResult = document.getElementById('quizResult');
const postPass = document.getElementById('postPass');
const timeLeftEl = document.getElementById('timeLeft');

/* Candidate inputs */
const candName = document.getElementById('candName');
const candAge = document.getElementById('candAge');
const candLocation = document.getElementById('candLocation');
const candRole = document.getElementById('candRole');
const candNgo  = document.getElementById('candNgo');
const candWhatsApp = document.getElementById('candWhatsApp');

function loadCandidate(){
  const data = getJSON(KEY_CANDIDATE, {name:'',age:'',location:'',role:'',ngo:'',whatsapp:''});
  candName.value = data.name||'';
  candAge.value = data.age||'';
  candLocation.value = data.location||'';
  candRole.value = data.role||'';
  candNgo.value = data.ngo||'';
  candWhatsApp.value = data.whatsapp||'';
}
function saveCandidate(){
  const data = {
    name:(candName.value||'').trim(),
    age:(candAge.value||'').trim(),
    location:(candLocation.value||'').trim(),
    role:(candRole.value||'').trim(),
    ngo:(candNgo.value||'').trim(),
    whatsapp:(candWhatsApp.value||'').trim()
  };
  setJSON(KEY_CANDIDATE, data);
  return data;
}
function candidateComplete(){
  const d = saveCandidate();
  if(!d.name) return false;
  if(!d.age || isNaN(parseInt(d.age,10))) return false;
  if(!d.location) return false;
  if(!d.role) return false;
  if(!d.ngo) return false;
  if(!d.whatsapp) return false;
  return true;
}

[candName,candAge,candLocation,candRole,candNgo,candWhatsApp].forEach(el=>{
  el.addEventListener('input', ()=>saveCandidate());
  el.addEventListener('change', ()=>saveCandidate());
});

/* Render quiz */
function renderQuiz(){
  form.innerHTML = QUESTIONS.map((Q,i)=>`
    <fieldset class="q">
      <legend>Q${i+1}. ${Q.q}</legend>
      ${Q.a.map((opt,j)=>`
        <label><input type="radio" name="q${i}" value="${j}" required/> ${opt}</label>
      `).join('')}
    </fieldset>
  `).join('');
}

/* Timer */
let timerId = null;
let quizActive = false;

function fmt(sec){
  const m=Math.floor(sec/60), s=sec%60;
  return `${String(m).padStart(2,'0')}:${String(s).padStart(2,'0')}`;
}
function remainingSeconds(){
  const started=parseInt(localStorage.getItem(KEY_TIMER_START)||'0',10);
  if(!started) return QUIZ_SECONDS;
  const elapsed=Math.floor((Date.now()-started)/1000);
  return Math.max(0, QUIZ_SECONDS - elapsed);
}
function tickTimer(){
  const r=remainingSeconds();
  timeLeftEl.textContent=fmt(r);
  if(r<=0){
    clearInterval(timerId);
    timeLeftEl.textContent='00:00';
    gradeQuiz(true);
  }
}
function startTimer(){
  localStorage.setItem(KEY_TIMER_START, String(Date.now()));
  tickTimer();
  timerId=setInterval(tickTimer,1000);
}

/* Grade */
function gradeQuiz(timedOut){
  if(!quizActive && !timedOut) return;
  if(!timedOut && !form.checkValidity()){
    form.reportValidity();
    return;
  }
  quizActive = false;
  clearInterval(timerId);

  let correct=0;
  QUESTIONS.forEach((Q,i)=>{
    const ch=form.querySelector(`input[name=q${i}]:checked`);
    if(ch && parseInt(ch.value,10)===Q.c) correct++;
  });
  const pct=correct/QUESTIONS.length;
  const pass = pct >= PASS_MARK;

  setJSON(KEY_TRAINING, {pct, date:new Date().toISOString()});

  quizResult.style.display='block';
  quizResult.className = 'result ' + (pass ? 'good' : 'bad');

  let msg = `You scored ${correct}/${QUESTIONS.length} (${Math.round(pct*100)}%). `;
  msg += pass ? 'You passed! âœ…' : 'Not passed. Try again. âŒ';
  if(timedOut) msg += ' (time up)';

  if(!pass && !canTakeQuiz()){
    msg += ' You have used your 2 attempts for this month â€” please try again next month.';
  }
  quizResult.textContent = msg;

  if(pass){
    // badge + xp
    awardBadge('volunteer_trained');
    addPoints(BONUS_XP);
    updateHud();

    // show pass block
    postPass.style.display='block';

    // prefill cert name
    const c = getJSON(KEY_CANDIDATE, {});
    const certName = document.getElementById('certName');
    if(certName && c.name && !certName.value) certName.value = c.name;

    try { window.plausible && window.plausible('VolunteerQuizPassed',{props:{score:Math.round(pct*100)}}); } catch(e){}
  }else{
    postPass.style.display='none';
    try { window.plausible && window.plausible('VolunteerQuizFailed',{props:{score:Math.round(pct*100), timedOut: !!timedOut}}); } catch(e){}
  }
}

/* Start quiz */
startQuizBtn.addEventListener('click', ()=>{
  const done = getDone();
  if(done < totalLessons){
    alert('Please complete all lessons before starting the quiz.');
    return;
  }
  if(!candidateComplete()){
    alert('Please complete your volunteer details before starting the quiz.');
    return;
  }
  if(!canTakeQuiz()){
    alert('You have used your 2 attempts this month. Please try again next month.');
    return;
  }

  recordAttempt();
  updateAttemptInfo();

  startQuizBtn.style.display='none';
  form.style.display='block';
  quizBtns.style.display='flex';

  renderQuiz();
  form.reset();
  quizActive = true;

  localStorage.removeItem(KEY_TIMER_START);
  clearInterval(timerId);
  timeLeftEl.textContent = fmt(QUIZ_SECONDS);
  startTimer();
});

/* Buttons */
submitQuizBtn.addEventListener('click', ()=>gradeQuiz(false));

resetQuizBtn.addEventListener('click', ()=>{
  form.reset();
  quizResult.style.display='none';
  postPass.style.display='none';

  localStorage.removeItem(KEY_TIMER_START);
  clearInterval(timerId);
  timeLeftEl.textContent = fmt(QUIZ_SECONDS);

  form.style.display='none';
  quizBtns.style.display='none';
  startQuizBtn.style.display='inline-flex';
});

/* Certificate button */
document.getElementById('makeCert').addEventListener('click', ()=>{
  const certName = document.getElementById('certName').value.trim();
  if(!certName){
    alert('Enter your name for the certificate.');
    return;
  }
  const t = getJSON(KEY_TRAINING, {pct:1, date:new Date().toISOString()});
  const score = Math.round(t.pct*100);
  const dateIso = t.date || new Date().toISOString();

  const certId = (() => {
    const d=new Date();
    const y=d.getFullYear();
    const m=String(d.getMonth()+1).padStart(2,'0');
    const day=String(d.getDate()).padStart(2,'0');
    const rand=Math.random().toString(36).slice(-4).toUpperCase();
    return `MC-CERT-${y}${m}${day}-${rand}`;
  })();

  const url = `certificate.html?name=${encodeURIComponent(certName)}&score=${score}&date=${encodeURIComponent(dateIso)}&cert_id=${encodeURIComponent(certId)}`;
  const hint = document.getElementById('certHint');
  hint.style.display='block';
  hint.innerHTML = `Your certificate is ready: <a href="${url}" target="_blank" rel="noopener"><b>Open Certificate</b></a>`;
});

/* ========= Init ========= */
loadCandidate();
bindChecks();
updateAttemptInfo();

// resume lesson position based on done progress
const done = getDone();
if(done >= totalLessons){
  showLesson(totalLessons-1);
  unlockQuiz();
} else {
  // show next lesson to complete (or first)
  showLesson(Math.max(0, done));
}
updateHud();

</script>

</body>
</html>

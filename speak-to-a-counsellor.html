<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Speak to a Counsellor ‚Ä¢ MindCheck üíö</title>
  <meta name="description" content="Find a verified counsellor and speak privately via WhatsApp or chat. Optional payment for maintenance." />

  <!-- Shared theme -->
  <link rel="stylesheet" href="mc-theme.css">

  <!-- Privacy-friendly analytics (Plausible) -->
  <script defer data-domain="speakoutmentalhealth.github.io" src="https://plausible.io/js/script.js"></script>

  <style>
    :root { --green:#22c55e; --greenDark:#16a34a; --ink:#062436; --bg:#f5fdf8; --card:#ffffff; }
    body { font-family:"Inter",system-ui,-apple-system,Segoe UI,Roboto,sans-serif; background:var(--bg); color:var(--ink); margin:0; padding:0; }
    header{background:var(--green);color:#fff;padding:1.2rem;font-size:1.35rem;font-weight:900;text-align:center;}
    main{max-width:1050px;margin:0 auto;padding:16px;}
    .sub{ text-align:center; margin:10px 0 14px; color:#334155; }
    .row{display:flex;gap:12px;flex-wrap:wrap;align-items:center;justify-content:center;margin:10px 0 14px;}
    .input{
      width:min(520px, 100%);
      padding:12px 12px;border:1px solid #e5e7eb;border-radius:12px;background:#fff;font-size:1rem;outline:none;
    }
    .btn{border:none;padding:12px 16px;border-radius:14px;font-size:1rem;cursor:pointer;transition:.15s;display:inline-flex;align-items:center;gap:8px;text-decoration:none;justify-content:center;}
    .btn-primary{background:var(--green);color:#fff;box-shadow:0 6px 20px rgba(34,197,94,.3);}
    .btn-primary:hover{background:var(--greenDark);}
    .btn-ghost{background:#fff;border:1px solid #e5e7eb;color:var(--ink);}
    .btn-ghost:hover{transform:translateY(-1px);}
    .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:14px;margin-top:12px;}
    .card{background:var(--card);border:1px solid #eef2f7;border-radius:14px;padding:16px;box-shadow:0 6px 18px rgba(2,23,34,.05);}
    .card h3{margin:.2rem 0 .2rem;font-size:1.05rem;}
    .card p{margin:.25rem 0;color:#52606d;line-height:1.45;}
    .tag{display:inline-block;background:#fff;border:1px solid #e5e7eb;border-radius:999px;padding:6px 10px;font-weight:700;font-size:.85rem;color:#0f172a;margin-top:8px;}
    .mini{font-size:.86rem;color:#64748b;}
    .note{font-size:.92rem;color:#475569;background:#fff;border:1px solid #e5e7eb;border-radius:12px;padding:12px;line-height:1.45;max-width:900px;margin:0 auto;}
    .crisis{max-width:900px;margin:12px auto;padding:12px;border:1px solid #fecaca;background:#fff1f2;border-radius:12px;color:#7f1d1d;}
    .crisis .r{display:flex;gap:8px;flex-wrap:wrap;justify-content:center;margin-top:8px;}
    footer{margin:28px 0 40px;font-size:.95rem;opacity:.9;text-align:center;}
    footer a{color:inherit;text-decoration:underline;}
    .divider{height:1px;background:#e5e7eb;margin:16px 0;}
  </style>
</head>

<body>
  <header>üí¨ Speak to a Counsellor</header>

  <main>
    <p class="sub">
      Choose a counsellor and speak privately. You can message via WhatsApp (or your chat platform), and optionally support maintenance with a small token.
    </p>

    <div class="crisis" role="alert">
      <b>Not an emergency service.</b> If you or someone is in danger right now, call <b>112</b> or reach a trusted adult immediately.
      <div class="r">
        <a class="btn btn-primary" href="tel:112">Call 112</a>
        <a class="btn btn-ghost" href="tel:+2348118103510">SpeakOut Helpline</a>
        <a class="btn btn-ghost" href="https://wa.me/2348118103510" target="_blank" rel="noopener">WhatsApp a volunteer</a>
      </div>
    </div>

    <div class="row" aria-label="Search and actions">
      <input id="searchBox" class="input" placeholder="Search counsellors by name, specialty (e.g., anxiety, marriage), or language‚Ä¶" />
      <a class="btn btn-ghost" href="index.html">‚¨ÖÔ∏è Back to MindCheck</a>
      <a class="btn btn-primary" href="become-a-counsellor.html">üßë‚Äç‚öïÔ∏è Become a counsellor</a>
    </div>

    <div class="note">
      <b>How it works:</b><br/>
      1) Pick a counsellor from the list<br/>
      2) Tap WhatsApp (or Chat) to start counselling<br/>
      3) If required, make a small payment before or after the session (maintenance)
    </div>

    <div class="divider"></div>

    <h2 style="text-align:center;margin:0 0 8px;">Available counsellors</h2>
    <p class="mini" style="text-align:center;margin:0 0 12px;">
      (Demo list for now ‚Äî you can replace with your real verified counsellors.)
    </p>

    <section id="cards" class="grid" aria-label="Counsellor list"></section>

    <div class="divider"></div>

    <section class="card" aria-labelledby="payTitle" style="max-width:900px;margin:0 auto;">
      <h3 id="payTitle">üí≥ Counselling support token (payment)</h3>
      <p>
        If your counselling requires a small token for maintenance, you can pay using your preferred payment gateway.
        This page includes placeholders ‚Äî swap them with your Paystack/Flutterwave payment links.
      </p>

      <div class="row" style="justify-content:flex-start;">
        <!-- Replace href with real Paystack/Flutterwave payment links -->
        <a class="btn btn-primary" href="https://example.com/pay" target="_blank" rel="noopener">Pay now</a>
        <button class="btn btn-ghost" id="copyRef">Copy payment note</button>
      </div>

      <div class="note" style="margin-top:10px;">
        <b>Payment note:</b> Use your name + date (e.g., ‚ÄúNgozi ‚Ä¢ 2025-12-28 ‚Ä¢ Counselling‚Äù).<br/>
        After payment, send the receipt to the counsellor (WhatsApp) or to SpeakOut support if needed.
      </div>

      <p class="mini" style="margin-top:10px;">
        If you want: I can make this page generate a unique reference ID and open Paystack with the exact amount automatically.
      </p>
    </section>

    <footer>
      üîí <a href="privacy.html">Privacy</a> ‚Ä¢
      üìÑ <a href="terms.html">Terms</a> ‚Ä¢
      üè• <a href="resources.html">Clinics & Resources</a> ‚Ä¢
      ü§ù <a href="volunteers.html">Volunteer Zone</a> ‚Ä¢
      ‚úâÔ∏è <a href="mailto:speaaakout@gmail.com">speaaakout@gmail.com</a>
    </footer>
  </main>

  <script>
    function track(name, props){ try{ window.plausible && window.plausible(name, { props }); }catch(e){} }

    // Replace this demo list with your verified counsellors later
    const COUNSELLORS = [
      {
        name: "Amina S.",
        title: "Counsellor (Anxiety & Stress)",
        languages: ["English", "Hausa (basic)"],
        mode: ["WhatsApp"],
        fee: "Token-based",
        whatsapp: "2348118103510",
        about: "Support for stress, worry, overthinking, burnout, and coping tools."
      },
      {
        name: "Chidi O.",
        title: "Counsellor (Relationships & Marriage)",
        languages: ["English", "Igbo (basic)"],
        mode: ["WhatsApp"],
        fee: "Token-based",
        whatsapp: "2348118103510",
        about: "Relationship conflicts, communication, boundaries, healing & rebuilding."
      },
      {
        name: "Kemi A.",
        title: "Counsellor (Youth & School Support)",
        languages: ["English", "Yoruba (basic)"],
        mode: ["WhatsApp"],
        fee: "Token-based",
        whatsapp: "2348118103510",
        about: "Teen support, school pressure, self-esteem, and emotional regulation."
      }
    ];

    const cards = document.getElementById('cards');
    const searchBox = document.getElementById('searchBox');

    function waLink(number, counsellorName){
      const msg = encodeURIComponent(
        `Hello ${counsellorName},\n\nI found you on SpeakOut MindCheck and I would like to speak with a counsellor.\n\nMy concern: (briefly type here)\nPreferred time: (optional)\n\nThank you.`
      );
      return `https://wa.me/${number}?text=${msg}`;
    }

    function render(list){
      if(!list.length){
        cards.innerHTML = `<div class="card"><h3>No results</h3><p>Try a different search term (e.g., ‚Äústress‚Äù, ‚Äúmarriage‚Äù, ‚Äúyouth‚Äù, ‚ÄúEnglish‚Äù).</p></div>`;
        return;
      }

      cards.innerHTML = list.map(c => {
        const langs = (c.languages || []).join(" ‚Ä¢ ");
        const modes = (c.mode || []).join(" ‚Ä¢ ");
        const tags = [
          c.fee ? `üí≥ ${c.fee}` : '',
          langs ? `üó£ ${langs}` : '',
          modes ? `üí¨ ${modes}` : ''
        ].filter(Boolean);

        return `
          <article class="card">
            <h3>${c.name}</h3>
            <p style="font-weight:700;color:#0f172a;margin:.2rem 0 .35rem;">${c.title}</p>
            <p>${c.about || ''}</p>
            ${tags.map(t => `<span class="tag">${t}</span>`).join(' ')}
            <div class="row" style="justify-content:flex-start;margin-top:12px;">
              <a class="btn btn-primary" href="${waLink(c.whatsapp, c.name)}" target="_blank" rel="noopener">WhatsApp</a>
              <button class="btn btn-ghost" data-chat="${c.name}">Chat (coming soon)</button>
            </div>
            <p class="mini" style="margin-top:10px;">
              Tip: If asked, you can pay the token first, then send your receipt screenshot.
            </p>
          </article>
        `;
      }).join('');

      // Chat coming soon
      document.querySelectorAll('[data-chat]').forEach(btn=>{
        btn.addEventListener('click', ()=>{
          const name = btn.getAttribute('data-chat');
          track('ClickChatComingSoon', { counsellor: name });
          alert('Chat is coming soon. For now, please use WhatsApp.');
        });
      });
    }

    function applySearch(){
      const q = (searchBox.value || '').toLowerCase().trim();
      if(!q){ render(COUNSELLORS); return; }
      const filtered = COUNSELLORS.filter(c => {
        const blob = [
          c.name, c.title, c.about,
          (c.languages||[]).join(' '),
          (c.mode||[]).join(' '),
          c.fee
        ].join(' ').toLowerCase();
        return blob.includes(q);
      });
      render(filtered);
    }

    searchBox.addEventListener('input', () => {
      applySearch();
      track('SearchCounsellors');
    });

    document.getElementById('copyRef').addEventListener('click', async () => {
      const note = `MindCheck counselling token ‚Ä¢ ${new Date().toISOString().slice(0,10)} ‚Ä¢ (your name)`;
      try{
        await navigator.clipboard.writeText(note);
        track('CopyPaymentNote');
        alert('Copied!');
      }catch(e){
        alert('Copy failed. Please copy manually:\n' + note);
      }
    });

    // initial render
    render(COUNSELLORS);
  </script>
</body>
</html>
